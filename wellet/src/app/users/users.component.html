<!-- <div class="container-fluid" style="background-image: url('../../assets/Users_Background.png'); background-position-x: center; background-position-y: center;"> -->
<!--<div class="row card-display mt-4 b-4">
    <div class="col-12 col-sm-6 col-md-4 col-lg-4 mb-4">
        <p class="content-text">Number of active users: {{userList.length-1}}</p>
    </div>
</div>-->

<div class="container-fluid">

    <div class="row card-display" align="center">

        <ng-container *ngFor="let user of userList">

            <div class="col-12 col-sm-6 col-md-4 col-lg-4 mb-4" *ngIf="user.status != 2">

                <div class="btn card mx-auto"
                    style="width: 70%; border-radius: 20px; border-color: transparent; padding: 0px;"
                    data-toggle="modal" data-target="#myModal">
                    <img class="card-img-top user-image" style="border-radius: 20px;" src="{{user.image}}"
                        [class.img-inactive]="user.status === 1">
                    <div *ngIf="user.status === 1" class="overlay-text">INVITE PENDENT</div>
                </div>
                <div class="filled-box" style="width: 70%; margin-top: 2vw;">
                    <div class="container">
                        <p class="filled-box-title my-4">{{user.name}}</p>
                        <p class="filled-box-subtitle">"{{user.description}}"</p>
                        <div class="row">
                            <div class="col">
                                <button class="btn w-75 mx-auto mb-3" data-toggle="modal" data-target="#myModal" (click)="userViewClick(user)">
                                    <mat-icon style="color: rgb(248, 173, 68);">visibility</mat-icon>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </ng-container>

        <div class="modal" id="myModal" tabindex="-1" role="dialog" *ngIf="userToInspect">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="container">
                        <div class="row mt-3 mb-2">
                            <div class="col">
                                <button class="btn w-100 mx-auto" data-dismiss="modal">
                                    <mat-icon style="float: right;">close</mat-icon>
                                </button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col text-center">
                                <img class="popup-img user-image" style="border-radius: 20px;" src="{{userToInspect.image}}"
                                    [class.img-inactive]="userToInspect.status === 1">
                                <h3 class="modal-title my-4">{{userToInspect.name}}</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col text-center">
                                <p class="filled-box-subtitle">"{{userToInspect.description}}"</p>
                            </div>
                        </div>
                        <div class="row">
                            <p class="modal-text">Email: {{userToInspect.email}}</p>
                            <p *ngIf="userToInspect.status === 0" class="modal-text">User Status: Active</p>
                            <p *ngIf="userToInspect.status === 1" class="modal-text">User Status: Invited</p>
                            <p *ngIf="userToInspect.status === 1" class="modal-text">User Status: Inactive</p>
                        </div>
                        <div class="row my-5" style="padding-left: 4vw; padding-right: 4vw;">
                            <button class="btn btn-yellow w-100 mx-auto text-center" data-dismiss="modal"
                                data-toggle="modal" data-target="#myModalDelete">Delete User</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" id="myModalDelete" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="container">
                        <div class="row">
                            <div class="col text-center">
                                <h3 class="modal-title my-4">Are you sure you want to delete this user?</h3>
                                <mat-icon class="delete-icon mt-0 mb-4">remove_circle</mat-icon>
                            </div>
                        </div>
                        <div class="row mx-auto mb-3 mt-2">
                            <div class="col-6">
                                <button class="btn btn-yellow w-100 mx-auto text-center" data-dismiss="modal"
                                    (click)="ngOnInit()">Delete</button>
                            </div>
                            <div class="col-6">
                                <button class="btn btn-dark-yellow w-100 mx-auto text-center"
                                    data-dismiss="modal">Cancel</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-sm-6 col-md-4 col-lg-4 mb-4">
            <div class="card mx-auto" style="width: 70%; border-radius: 20px;">
                <a routerLink="../add-new-user">
                    <img class="card-img-top user-image" style="border-radius: 20px;" src="../../assets/Add_Icon.png"
                        alt="Card image cap">
                </a>
            </div>
            <div class="filled-box" style="width: 70%; margin-top: 2vw; background-color: transparent;">
                <p class="filled-box-title my-4">Add User</p>
                <p class="filled-box-subtitle">Empty Slot</p>
            </div>
        </div>
    </div>
</div>